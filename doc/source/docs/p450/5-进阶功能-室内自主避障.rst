5-进阶功能-室内自主避障
================================

本节主要讲解P450系列无人机在室内的自主避障演示。视频紧接上节内容 **首次飞行**  ，默认已经通过WiFi数传连接到QGC地面站和nomachine远程连接到板载计算机，
主要分为一下几点进行讲解：启动指令，起飞，降落，以及最后的视频演示。

启动指令
-----------------
先启动第一个指令

`roslaunch p450_experiment astar_onboard.launch`

再启动第二个指令

`roslaunch p450_experiment astar_ground.launch`


起飞
------------------

先输入起飞指令

在此终端先输入0选择命令输入控制

再输入1选择take off起飞指令


等到无人机起飞到一个稳定高度，也即是我们设定的起飞高度后，回到rviz界面，点击选择3D Nav Goal


在rviz上点击一个点作为目标点，会自动生成一个绕开障碍物的路径


此时无人机会沿着这个生成的路径飞，绕开障碍物，且高度会保持不变。


.. attention::

    如果中途无人机飞行不符合预期，及时通过遥控器切出offboard模式，转为position模式手动控制。


降落
-------------

无人机飞到目标点后，可以遥控器拨动offboard飞行模式开关切出offboard模式，并缓慢手动降落。

视频演示
---------------